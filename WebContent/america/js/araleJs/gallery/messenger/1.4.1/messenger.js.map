{"version":3,"sources":["gallery/messenger/1.4.1/messenger.js"],"names":["define","a","b","window","Messenger","_call","apply","this","arguments","noConflict","_","Array","prototype","Object","c","Function","d","push","slice","e","concat","toString","hasOwnProperty","f","forEach","g","map","reduce","reduceRight","filter","h","every","some","indexOf","lastIndexOf","isArray","keys","i","bind","j","k","l","each","length","call","has","result","isFunction","once","m","uniqueId","select","defaults","extend","TypeError","isObject","Events","Backbone","test","split","callback","ctx","on","_events","context","off","_callback","trigger","all","listenTo","_listeners","_listenerId","stopListening","unbind","constructor","__super__","n","o","jQuery","el","setElement","model","initialize","$el","delegateEvents","undelegateEvents","Error","match","cid","jqon","delegate","jqoff","undelegate","remove","hideAfter","scroll","closeButtonText","shown","rendered","messenger","options","show","render","$message","removeClass","hide","addClass","cancel","update","isString","message","lastUpdate","Date","events","actionsToEvents","checkClickable","_hideTimeout","clearTimeout","setTimeout","hideOnNavigate","history","scrollTo","duration","offset","left","top","timeSinceUpdate","actions","preventDefault","stopPropagation","action","parseActions","name","label","template","type","showCloseButton","html","click","append","attr","_hasSlot","_reserveMessageSlot","_timers","clearTimers","_actionInstance","abort","auto","startCountdown","renderPhrase","phrase","replace","formatTime","Math","floor","find","delay","text","min","tagName","className","messageDefaults","updateMessageSlotClasses","findById","msg","id","prepend","$slot","_enforceIdConstraint","maxMessages","shift","singleton","newMessage","themes","theme","Message","css","hideAll","post","doDefaults","progressMessage","successMessage","errorMessage","showSuccessWithoutError","retry","allow","ajax","hookBackboneAjax","_withoutMessenger","sync","wrap","_getHandlerResponse","_parseEvents","substring","_normalizeResponse","readyState","responseText","run","p","messageInstance","q","r","s","t","u","v","w","x","y","z","A","B","errorCount","returnsPromise","status","ignoredErrorCodes","_hideAfter","_retryActions","instance","then","success","error","expectPromise","info","fn","data","extraClasses","parentLocations","_messengerDefaults","_location","is","detach","_addedClasses","globalMessenger","seajs","importStyle"],"mappings":"AAAAA,OAAO,wCAAwC,IAAI,mBAAmB,SAASC,GAAGA,EAAE,KAAKA,EAAE,mBAAmB,WAAW,GAAIA,GAAEC,EAAEC,OAAOC,SAAUH,GAAEE,OAAOC,UAAU,WAAW,MAAOH,GAAEI,MAAMC,MAAMC,KAAKC,YAAYL,OAAOC,UAAUK,WAAW,WAAW,MAAON,QAAOC,UAAUF,EAAED,MAAME,OAAOC,UAAUM,EAAE,WAAW,GAAGP,OAAOO,EAAE,MAAOP,QAAOO,CAAE,IAAIT,GAAEU,MAAMC,UAAUV,EAAEW,OAAOD,UAAUE,EAAEC,SAASH,UAAUI,GAAGf,EAAEgB,KAAKhB,EAAEiB,OAAOC,GAAGlB,EAAEmB,OAAOlB,EAAEmB,SAAUnB,GAAEoB,cAAe,IAAIC,GAAEtB,EAAEuB,QAAQC,GAAGxB,EAAEyB,IAAIzB,EAAE0B,OAAO1B,EAAE2B,YAAY3B,EAAE4B,QAAQC,GAAG7B,EAAE8B,MAAM9B,EAAE+B,KAAK/B,EAAEgC,QAAQhC,EAAEiC,YAAYvB,MAAMwB,QAAQtB,OAAOuB,MAAMC,EAAEvB,EAAEwB,KAAKC,KAAKC,KAAKC,EAAEF,EAAEG,KAAKH,EAAEf,QAAQ,SAASvB,EAAEC,EAAEY,GAAG,GAAG,MAAMb,EAAE,GAAGsB,GAAGtB,EAAEuB,UAAUD,EAAEtB,EAAEuB,QAAQtB,EAAEY,OAAQ,IAAGb,EAAE0C,UAAU1C,EAAE0C,QAAQ,IAAI,GAAI3B,GAAE,EAAEG,EAAElB,EAAE0C,OAAOxB,EAAEH,EAAEA,IAAI,GAAGd,EAAE0C,KAAK9B,EAAEb,EAAEe,GAAGA,EAAEf,KAAKuC,EAAE,WAAY,KAAI,GAAIf,KAAKxB,GAAE,GAAGsC,EAAEM,IAAI5C,EAAEwB,IAAIvB,EAAE0C,KAAK9B,EAAEb,EAAEwB,GAAGA,EAAExB,KAAKuC,EAAE,OAAQD,GAAEO,OAAO,SAAS7C,EAAEC,GAAG,GAAG,MAAMD,EAAE,MAAO,KAAK,IAAIa,GAAEb,EAAEC,EAAG,OAAOqC,GAAEQ,WAAWjC,GAAGA,EAAE8B,KAAK3C,GAAGa,GAAGyB,EAAES,KAAK,SAAS/C,GAAG,GAAIC,GAAEY,GAAE,CAAG,OAAO,YAAW,MAAOA,GAAEZ,GAAGY,GAAE,EAAGZ,EAAED,EAAEK,MAAMC,KAAKC,WAAWP,EAAE,KAAKC,IAAK,IAAI+C,GAAE,CAAE,OAAOV,GAAEW,SAAS,SAASjD,GAAG,GAAIC,KAAI+C,EAAE,EAAG,OAAOhD,GAAEA,EAAEC,EAAEA,GAAGqC,EAAEV,OAAOU,EAAEY,OAAO,SAASlD,EAAEC,EAAEY,GAAG,GAAIE,KAAK,OAAO,OAAMf,EAAEe,EAAES,GAAGxB,EAAE4B,SAASJ,EAAExB,EAAE4B,OAAO3B,EAAEY,IAAI2B,EAAExC,EAAE,SAASA,EAAEkB,EAAEI,GAAGrB,EAAE0C,KAAK9B,EAAEb,EAAEkB,EAAEI,KAAKP,EAAEA,EAAE2B,QAAQ1C,KAAKe,IAAIyB,GAAG,YAAY,WAAW,SAAS,SAAS,OAAO,UAAU,SAASxC,GAAGsC,EAAE,KAAKtC,GAAG,SAASC,GAAG,MAAOiB,GAAEyB,KAAK1C,IAAI,WAAWD,EAAE,OAAOsC,EAAEa,SAAS,SAASnD,GAAG,MAAOwC,GAAEzB,EAAE4B,KAAKpC,UAAU,GAAG,SAASN,GAAG,GAAGA,EAAE,IAAI,GAAIY,KAAKZ,GAAE,MAAMD,EAAEa,KAAKb,EAAEa,GAAGZ,EAAEY,MAAMb,GAAGsC,EAAEc,OAAO,SAASpD,GAAG,MAAOwC,GAAEzB,EAAE4B,KAAKpC,UAAU,GAAG,SAASN,GAAG,GAAGA,EAAE,IAAI,GAAIY,KAAKZ,GAAED,EAAEa,GAAGZ,EAAEY,KAAKb,GAAGsC,EAAEH,KAAKN,GAAG,SAAS7B,GAAG,GAAGA,IAAIY,OAAOZ,GAAG,KAAM,IAAIqD,WAAU,iBAAkB,IAAIpD,KAAK,KAAI,GAAIY,KAAKb,GAAEsC,EAAEM,IAAI5C,EAAEa,KAAKZ,EAAEA,EAAEyC,QAAQ7B,EAAG,OAAOZ,IAAGqC,EAAED,KAAK,SAASrC,EAAEC,GAAG,GAAGD,EAAEqC,OAAOD,GAAGA,EAAE,MAAOA,GAAE/B,MAAML,EAAEe,EAAE4B,KAAKpC,UAAU,GAAI,IAAIM,GAAEE,EAAE4B,KAAKpC,UAAU,EAAG,OAAO,YAAW,MAAOP,GAAEK,MAAMJ,EAAEY,EAAEM,OAAOJ,EAAE4B,KAAKpC,eAAe+B,EAAEgB,SAAS,SAAStD,GAAG,MAAOA,KAAIY,OAAOZ,IAAIsC,KAAKpC,OAAOC,UAAUoD,OAAO,WAAW,GAAGrD,OAAOsD,UAAUA,SAASD,OAAO,MAAOC,UAASD,MAAO,IAAIvD,GAAE,WAAW,GAAIA,GAAE,MAAMC,EAAE,SAASA,EAAEY,EAAEE,EAAEG,GAAG,IAAIH,EAAE,OAAM,CAAG,IAAG,gBAAiBA,GAAE,IAAI,GAAIO,KAAKP,GAAEd,EAAEY,GAAGR,MAAMJ,GAAGqB,EAAEP,EAAEO,IAAIH,OAAOD,QAAQ,CAAC,IAAIlB,EAAEyD,KAAK1C,GAAG,OAAM,CAAG,KAAI,GAAIS,GAAET,EAAE2C,MAAM1D,GAAG6B,EAAE,EAAEO,EAAEZ,EAAEkB,OAAON,EAAEP,EAAEA,IAAI5B,EAAEY,GAAGR,MAAMJ,GAAGuB,EAAEK,IAAIV,OAAOD,MAAML,EAAE,SAASb,EAAEC,GAAG,GAAIY,GAAEE,EAAE,GAAGG,EAAElB,EAAE0C,MAAO,QAAOzC,EAAEyC,QAAQ,IAAK,GAAE,OAAO3B,EAAEG,IAAIL,EAAEb,EAAEe,IAAI4C,SAAShB,KAAK9B,EAAE+C,IAAK,OAAO,KAAK,GAAE,OAAO7C,EAAEG,IAAIL,EAAEb,EAAEe,IAAI4C,SAAShB,KAAK9B,EAAE+C,IAAI3D,EAAE,GAAI,OAAO,KAAK,GAAE,OAAOc,EAAEG,IAAIL,EAAEb,EAAEe,IAAI4C,SAAShB,KAAK9B,EAAE+C,IAAI3D,EAAE,GAAGA,EAAE,GAAI,OAAO,KAAK,GAAE,OAAOc,EAAEG,IAAIL,EAAEb,EAAEe,IAAI4C,SAAShB,KAAK9B,EAAE+C,IAAI3D,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAI,OAAO,SAAQ,OAAOc,EAAEG,IAAIL,EAAEb,EAAEe,IAAI4C,SAAStD,MAAMQ,EAAE+C,IAAI3D,KAAKc,GAAG8C,GAAG,SAAS7D,EAAEa,EAAEE,GAAG,IAAId,EAAEK,KAAK,KAAKN,GAAGa,EAAEE,MAAMF,EAAE,MAAOP,KAAKA,MAAKwD,UAAUxD,KAAKwD,WAAY,IAAI5C,GAAEZ,KAAKwD,QAAQ9D,KAAKM,KAAKwD,QAAQ9D,MAAO,OAAOkB,GAAEF,MAAM2C,SAAS9C,EAAEkD,QAAQhD,EAAE6C,IAAI7C,GAAGT,OAAOA,MAAMyC,KAAK,SAAS/C,EAAEa,EAAEE,GAAG,IAAId,EAAEK,KAAK,OAAON,GAAGa,EAAEE,MAAMF,EAAE,MAAOP,KAAK,IAAIY,GAAEZ,KAAKgB,EAAEb,EAAEsC,KAAK,WAAW7B,EAAE8C,IAAIhE,EAAEsB,GAAGT,EAAER,MAAMC,KAAKC,YAAa,OAAOe,GAAE2C,UAAUpD,EAAEP,KAAKuD,GAAG7D,EAAEsB,EAAEP,GAAGT,MAAM0D,IAAI,SAAShE,EAAEa,EAAEE,GAAG,GAAIG,GAAEI,EAAEE,EAAEK,EAAEO,EAAEE,EAAEC,EAAEC,CAAE,KAAIlC,KAAKwD,UAAU7D,EAAEK,KAAK,MAAMN,GAAGa,EAAEE,IAAI,MAAOT,KAAK,KAAIN,IAAIa,IAAIE,EAAE,MAAOT,MAAKwD,WAAWxD,IAAK,KAAIuB,EAAE7B,GAAGA,GAAGS,EAAE0B,KAAK7B,KAAKwD,SAAS1B,EAAE,EAAEE,EAAET,EAAEa,OAAOJ,EAAEF,EAAEA,IAAI,GAAGpC,EAAE6B,EAAEO,GAAGlB,EAAEZ,KAAKwD,QAAQ9D,GAAG,CAAC,GAAGwB,KAAKX,GAAGE,EAAE,IAAIwB,EAAE,EAAEC,EAAEtB,EAAEwB,OAAOF,EAAED,EAAEA,IAAIjB,EAAEJ,EAAEqB,IAAI1B,GAAGA,IAAIS,EAAEqC,UAAU9C,IAAIS,EAAEqC,SAASM,WAAWlD,GAAGA,IAAIO,EAAEyC,UAAUvC,EAAER,KAAKM,EAAGhB,MAAKwD,QAAQ9D,GAAGwB,EAAE,MAAOlB,OAAM4D,QAAQ,SAASlE,GAAG,IAAIM,KAAKwD,QAAQ,MAAOxD,KAAK,IAAIS,GAAEL,MAAMC,UAAUM,MAAM0B,KAAKpC,UAAU,EAAG,KAAIN,EAAEK,KAAK,UAAUN,EAAEe,GAAG,MAAOT,KAAK,IAAIY,GAAEZ,KAAKwD,QAAQ9D,GAAGsB,EAAEhB,KAAKwD,QAAQK,GAAI,OAAOjD,IAAGL,EAAEK,EAAEH,GAAGO,GAAGT,EAAES,EAAEf,WAAWD,MAAM8D,SAAS,SAASpE,EAAEC,EAAEY,GAAG,GAAIE,GAAET,KAAK+D,aAAa/D,KAAK+D,eAAenD,EAAElB,EAAEsE,cAActE,EAAEsE,YAAY7D,EAAEwC,SAAS,KAAM,OAAOlC,GAAEG,GAAGlB,EAAEA,EAAE6D,GAAG5D,EAAE,gBAAiBA,GAAEK,KAAKO,EAAEP,MAAMA,MAAMiE,cAAc,SAASvE,EAAEC,EAAEY,GAAG,GAAIE,GAAET,KAAK+D,UAAW,IAAGtD,EAAE,CAAC,GAAGf,EAAEA,EAAEgE,IAAI/D,EAAE,gBAAiBA,GAAEK,KAAKO,EAAEP,MAAML,GAAGY,SAAUE,GAAEf,EAAEsE,iBAAiB,CAAC,gBAAiBrE,KAAIY,EAAEP,KAAM,KAAI,GAAIY,KAAKH,GAAEA,EAAEG,GAAG8C,IAAI/D,EAAEY,EAAEP,KAAMA,MAAK+D,cAAc,MAAO/D,QAAQ,OAAOS,GAAEsB,KAAKtB,EAAE8C,GAAG9C,EAAEyD,OAAOzD,EAAEiD,IAAIjD,EAAG,OAAOf,QAAO,WAAW,GAAIA,GAAEC,EAAEY,EAAEE,EAAEG,EAAEI,EAAEE,EAAEK,EAAEO,EAAEE,EAAEC,EAAEC,KAAKnB,eAAe2B,EAAE,SAAShD,EAAEC,GAAG,QAASY,KAAIP,KAAKmE,YAAYzE,EAAE,IAAI,GAAIe,KAAKd,GAAEuC,EAAEG,KAAK1C,EAAEc,KAAKf,EAAEe,GAAGd,EAAEc,GAAI,OAAOF,GAAEF,UAAUV,EAAEU,UAAUX,EAAEW,UAAU,GAAIE,GAAEb,EAAE0E,UAAUzE,EAAEU,UAAUX,GAAG2E,KAAK1D,MAAM2D,KAAK5C,SAAS,SAAShC,GAAG,IAAI,GAAIC,GAAE,EAAEY,EAAEP,KAAKoC,OAAO7B,EAAEZ,EAAEA,IAAI,GAAGA,IAAKK,OAAMA,KAAKL,KAAKD,EAAE,MAAOC,EAAE,OAAM,GAAID,GAAE6E,OAAOvD,EAAE,OAAOc,EAAElC,OAAOO,GAAG2B,EAAElC,OAAOC,UAAUM,EAAEM,EAAE,OAAOuB,EAAE,mBAAoBkB,WAAU,OAAOA,SAASA,SAASD,OAAO,QAAQjB,EAAEpC,OAAOC,UAAUoD,OAAO1C,EAAE,WAAW,QAASZ,GAAEA,GAAGD,EAAEoD,OAAO9C,KAAKS,GAAGO,EAAEgC,SAASrD,KAAKA,EAAE6E,IAAIxE,KAAKyE,WAAW9E,EAAE6E,IAAIxE,KAAK0E,MAAM/E,EAAE+E,OAAO1E,KAAK2E,WAAW5E,MAAMC,KAAKC,WAAW,MAAON,GAAEU,UAAUoE,WAAW,SAAS9E,GAAG,MAAOK,MAAK4E,IAAIlF,EAAEC,GAAGK,KAAKwE,GAAGxE,KAAK4E,IAAI,IAAIjF,EAAEU,UAAUwE,eAAe,SAASnF,GAAG,GAAIC,GAAEY,EAAEE,EAAEG,EAAEM,EAAEK,EAAEO,CAAE,IAAGpC,IAAIA,EAAEsB,EAAEuB,OAAOvC,KAAK,WAAW,CAACA,KAAK8E,mBAAmBnF,EAAE,iBAAiBmC,IAAK,KAAIrB,IAAKf,GAAE,CAAC,GAAGwB,EAAExB,EAAEe,GAAGO,EAAEwB,WAAWtB,KAAKA,EAAElB,KAAKN,EAAEe,MAAMS,EAAE,KAAM,IAAI6D,OAAM,WAAWrF,EAAEe,GAAG,mBAAoBG,GAAEH,EAAEuE,MAAMrF,GAAGY,EAAEK,EAAE,GAAGW,EAAEX,EAAE,GAAGM,EAAEF,EAAEe,KAAKb,EAAElB,MAAMO,GAAG,kBAAkBP,KAAKiF,IAAWnD,EAAEpB,KAAT,KAAKa,EAASvB,KAAKkF,KAAK3E,EAAEW,GAAWlB,KAAKkF,KAAK3E,EAAEgB,EAAEL,IAAI,MAAOY,KAAInC,EAAEU,UAAU6E,KAAK,SAASxF,EAAEC,EAAEY,GAAG,GAAIE,EAAE,OAAO,OAAMT,KAAK4E,IAAIrB,IAAI9C,EAAET,KAAK4E,KAAKrB,GAAGxD,MAAMU,EAAER,YAAY,MAAMM,IAAIA,EAAEZ,EAAEA,EAAE,QAAQ,MAAMA,EAAEK,KAAK4E,IAAIO,SAASxF,EAAED,EAAEa,GAAGP,KAAK4E,IAAI7C,KAAKrC,EAAEa,KAAKZ,EAAEU,UAAU+E,MAAM,SAAS1F,GAAG,GAAIC,EAAE,OAAO,OAAMK,KAAK4E,IAAIlB,KAAK/D,EAAEK,KAAK4E,KAAKlB,IAAI3D,MAAMJ,EAAEM,YAAYD,KAAK4E,IAAIS,aAAarF,KAAK4E,IAAIV,OAAOxE,KAAKC,EAAEU,UAAUyE,iBAAiB,WAAW,MAAO9E,MAAKoF,MAAM,kBAAkBpF,KAAKiF,MAAMtF,EAAEU,UAAUiF,OAAO,WAAW,MAAOtF,MAAK8E,mBAAmB9E,KAAK4E,IAAIU,UAAU3F,KAAKuB,EAAE,SAASvB,GAAG,QAASY,KAAI,MAAOA,GAAE6D,UAAUD,YAAYpE,MAAMC,KAAKC,WAAW,MAAOyC,GAAEnC,EAAEZ,GAAGY,EAAEF,UAAUwC,UAAU0C,UAAU,GAAGC,QAAO,EAAGC,gBAAgB,WAAWlF,EAAEF,UAAUsE,WAAW,SAAShF,GAAG,MAAO,OAAMA,IAAIA,MAAMK,KAAK0F,OAAM,EAAG1F,KAAK2F,UAAS,EAAG3F,KAAK4F,UAAUjG,EAAEiG,UAAU5F,KAAK6F,QAAQnG,EAAEoD,UAAU9C,KAAK6F,QAAQlG,EAAEK,KAAK6C,WAAWtC,EAAEF,UAAUyF,KAAK,WAAW,GAAIpG,EAAE,OAAOM,MAAK2F,UAAU3F,KAAK+F,SAAS/F,KAAKgG,SAASC,YAAY,oBAAoBvG,EAAEM,KAAK0F,MAAM1F,KAAK0F,OAAM,EAAGhG,EAAE,OAAOM,KAAK4D,QAAQ,SAASrD,EAAEF,UAAU6F,KAAK,WAAW,GAAIxG,EAAE,OAAGM,MAAK2F,UAAgB3F,KAAKgG,SAASG,SAAS,oBAAoBzG,EAAEM,KAAK0F,MAAM1F,KAAK0F,OAAM,EAAGhG,EAAEM,KAAK4D,QAAQ,QAAQ,QAArH,QAA6HrD,EAAEF,UAAU+F,OAAO,WAAW,MAAOpG,MAAKkG,QAAQ3F,EAAEF,UAAUgG,OAAO,SAAS1G,GAAG,GAAIY,GAAEE,EAAET,IAAK,OAAOgB,GAAEsF,SAAS3G,KAAKA,GAAG4G,QAAQ5G,IAAID,EAAEoD,OAAO9C,KAAK6F,QAAQlG,GAAGK,KAAKwG,WAAW,GAAIC,MAAKzG,KAAK2F,UAAS,EAAG3F,KAAK0G,OAAO,OAAOnG,EAAEP,KAAK6F,QAAQa,QAAQnG,KAAKP,KAAK+F,SAAS/F,KAAK2G,kBAAkB3G,KAAK6E,iBAAiB7E,KAAK4G,iBAAiB5G,KAAK6F,QAAQN,WAAWvF,KAAKgG,SAASG,SAAS,6BAA6B,MAAMnG,KAAK6G,cAAcC,aAAa9G,KAAK6G,cAAc7G,KAAK6G,aAAaE,WAAW,WAAW,MAAOtG,GAAEyF,QAAQ,IAAIlG,KAAK6F,QAAQN,YAAYvF,KAAKgG,SAASC,YAAY,6BAA6BjG,KAAK6F,QAAQmB,gBAAgBhH,KAAKgG,SAASG,SAAS,mCAAmC,OAAO,mBAAoBjD,WAAU,OAAOA,SAASA,SAAS+D,QAAQ,SAAS/D,SAAS+D,QAAQ1D,GAAG,QAAQ,WAAW,MAAO9C,GAAEyF,UAAUlG,KAAKgG,SAASC,YAAY,mCAAmCjG,KAAK4D,QAAQ,SAAS5D,OAAOO,EAAEF,UAAU6G,SAAS,WAAW,MAAOlH,MAAK6F,QAAQL,OAAO9F,EAAEwH,SAASlH,KAAK4E,KAAKuC,SAAS,IAAIC,QAAQC,KAAK,EAAEC,IAAI,OAAO,QAAQ/G,EAAEF,UAAUkH,gBAAgB,WAAW,MAAOvH,MAAKwG,WAAW,GAAIC,MAAKzG,KAAKwG,WAAW,MAAMjG,EAAEF,UAAUsG,gBAAgB,WAAW,GAAIjH,GAAEC,EAAEY,EAAEE,EAAEG,EAAEZ,IAAKO,GAAEP,KAAK6F,QAAQ2B,QAAQ/G,IAAK,KAAId,IAAKY,GAAEb,EAAEa,EAAEZ,GAAGc,EAAEC,KAAKV,KAAK0G,OAAO,uBAAuB/G,EAAE,QAAQ,SAASD,GAAG,MAAO,UAASa,GAAG,MAAOA,GAAEkH,iBAAiBlH,EAAEmH,kBAAkB9G,EAAEgD,QAAQ,UAAUjE,EAAED,EAAEa,GAAGb,EAAEiI,OAAOtF,KAAKzB,EAAEL,EAAEK,KAAKlB,GAAI,OAAOe,IAAGF,EAAEF,UAAUuG,eAAe,WAAW,GAAIlH,GAAEC,EAAEY,EAAEE,CAAEF,GAAEP,KAAK0G,OAAOjG,IAAK,KAAId,IAAKY,GAAEb,EAAEa,EAAEZ,GAAec,EAAEC,KAAd,UAAUf,EAASK,KAAKgG,SAASG,SAAS,uBAA+B,OAAQ,OAAO1F,IAAGF,EAAEF,UAAUyE,iBAAiB,WAAW,GAAIpF,EAAE,OAAOa,GAAE6D,UAAUU,iBAAiB/E,MAAMC,KAAKC,WAAW,OAAOP,EAAEM,KAAKgG,UAAUtG,EAAEuG,YAAY,uBAAuB,QAAQ1F,EAAEF,UAAUuH,aAAa,WAAW,GAAIjI,GAAEY,EAAEE,EAAEG,EAAEI,EAAEE,CAAEX,MAAKS,EAAEhB,KAAK6F,QAAQ2B,OAAQ,KAAI5G,IAAKI,GAAErB,EAAEqB,EAAEJ,GAAGH,EAAEf,EAAEoD,UAAUnD,GAAGc,EAAEoH,KAAKjH,EAAE,OAAOM,EAAET,EAAEqH,SAASrH,EAAEqH,MAAMlH,GAAGL,EAAEG,KAAKD,EAAG,OAAOF,IAAGA,EAAEF,UAAU0H,SAAS,SAASpI,GAAG,GAAIY,GAAEE,EAAEG,EAAEI,EAAEE,EAAEK,EAAEO,EAAEE,EAAEC,EAAEC,EAAEQ,EAAE1C,IAAK,KAAIkB,EAAExB,EAAE,+CAA+CC,EAAEqI,KAAK,YAAYrI,EAAEqI,KAAK,UAAUrI,EAAEqI,KAAK,MAAMrI,EAAEsI,kBAAkBrH,EAAElB,EAAE,uEAAuEkB,EAAEsH,KAAKvI,EAAE8F,iBAAiB7E,EAAEuH,MAAM,WAAW,MAAOzF,GAAE0D,UAAS,IAAKlF,EAAEkH,OAAOxH,IAAIW,EAAE7B,EAAE,wCAAwCC,EAAE4G,QAAQ,UAAUrF,EAAEkH,OAAO7G,GAAG5B,EAAE6H,QAAQpF,SAAS3B,EAAEf,EAAE,oCAAoCwC,EAAEvC,EAAE6H,QAAQxF,EAAE,EAAEC,EAAEC,EAAEE,OAAOH,EAAED,EAAEA,IAAIF,EAAEI,EAAEF,GAAGzB,EAAEb,EAAE,UAAUa,EAAE8H,KAAK,cAAc,GAAGvG,EAAE+F,MAAM7G,EAAEtB,EAAE,OAAOsB,EAAEkH,KAAKpG,EAAEgG,OAAOvH,EAAE6H,OAAO1I,EAAE,oCAAoCa,EAAE6H,OAAOpH,GAAGP,EAAE2H,OAAO7H,EAAG,OAAOW,GAAEkH,OAAO3H,GAAGS,GAAGX,EAAEF,UAAU0F,OAAO,WAAW,GAAIpG,EAAE,OAAIK,MAAK2F,SAAT,QAAyB3F,KAAKsI,WAAWtI,KAAKyE,WAAWzE,KAAK4F,UAAU2C,oBAAoBvI,OAAOA,KAAKsI,UAAS,GAAI3I,EAAED,EAAEoD,UAAU9C,KAAK6F,SAAS2B,QAAQxH,KAAK4H,iBAAiB5H,KAAKgG,SAAStG,EAAEM,KAAK+H,SAASpI,IAAIK,KAAK4E,IAAIsD,KAAKlI,KAAKgG,UAAUhG,KAAK0F,OAAM,EAAG1F,KAAK2F,UAAS,EAAG3F,KAAK4D,QAAQ,YAAWrD,GAAGA,GAAGK,EAAE,SAASlB,GAAG,QAASC,KAAI,MAAOA,GAAEyE,UAAUD,YAAYpE,MAAMC,KAAKC,WAAW,MAAOyC,GAAE/C,EAAED,GAAGC,EAAEU,UAAUsE,WAAW,WAAW,MAAOhF,GAAEyE,UAAUO,WAAW5E,MAAMC,KAAKC,WAAWD,KAAKwI,YAAY7I,EAAEU,UAAU+F,OAAO,WAAW,MAAOpG,MAAKyI,cAAczI,KAAKkG,OAAO,MAAMlG,KAAK0I,iBAAiB,MAAM1I,KAAK0I,gBAAgBC,MAAM3I,KAAK0I,gBAAgBC,QAAQ,QAAQhJ,EAAEU,UAAUoI,YAAY,WAAW,GAAI/I,GAAEC,EAAEY,EAAEE,CAAEF,GAAEP,KAAKwI,OAAQ,KAAI9I,IAAKa,GAAEZ,EAAEY,EAAEb,GAAGoH,aAAanH,EAAG,OAAOK,MAAKwI,WAAW,OAAO/H,EAAET,KAAKgG,UAAUvF,EAAEwF,YAAY,8CAA8C,QAAQtG,EAAEU,UAAU0F,OAAO,WAAW,GAAIrG,GAAEa,EAAEE,EAAEG,CAAEjB,GAAEyE,UAAU2B,OAAOhG,MAAMC,KAAKC,WAAWD,KAAKyI,cAAchI,EAAET,KAAK6F,QAAQ2B,QAAQ5G,IAAK,KAAIL,IAAKE,GAAEf,EAAEe,EAAEF,GAAUK,EAAEF,KAAThB,EAAEkJ,KAAY5I,KAAK6I,eAAetI,EAAEb,GAAW,OAAQ,OAAOkB,IAAGjB,EAAEU,UAAUyI,aAAa,SAASpJ,EAAEC,GAAG,GAAIY,EAAE,OAAOA,GAAEb,EAAEqJ,OAAOC,QAAQ,OAAOhJ,KAAKiJ,WAAWtJ,KAAKA,EAAEU,UAAU4I,WAAW,SAASvJ,GAAG,GAAIC,EAAE,OAAOA,GAAE,SAASD,EAAEC,GAAG,MAAOD,GAAEwJ,KAAKC,MAAMzJ,GAAG,IAAIA,IAAIC,GAAG,KAAK,MAAMD,EAAE,IAAIC,GAAG,IAAIuJ,KAAKC,MAAMzJ,GAAG,SAAS,GAAGA,EAAEC,EAAED,EAAE,WAAWA,GAAG,GAAG,GAAGA,EAAEC,EAAED,EAAE,WAAWA,GAAG,GAAGC,EAAED,EAAE,WAAWC,EAAEU,UAAUwI,eAAe,SAASnJ,EAAEC,GAAG,GAAIY,GAAEE,EAAEG,EAAEI,EAAEE,EAAElB,IAAK,OAAG,OAAMA,KAAKwI,QAAQ9I,IAAUa,EAAEP,KAAKgG,SAASoD,KAAK,iBAAiB1J,EAAE,wBAAwBe,EAAE,OAAOO,EAAErB,EAAE0J,OAAOrI,EAAE,EAAE,IAAIP,GAAGT,KAAKgG,SAASC,YAAY,yBAAyBjG,KAAKgG,SAASG,SAAS,0BAA0BnG,KAAKgG,SAASC,YAAY,wBAAwBjG,KAAKgG,SAASG,SAAS,2BAA0BvF,EAAE,WAAW,GAAII,EAAE,OAAOT,GAAE+I,KAAKpI,EAAE4H,aAAanJ,EAAEc,IAAIA,EAAE,GAAGO,EAAEkI,KAAKK,IAAI9I,EAAE,GAAGA,GAAGO,EAAEE,EAAEsH,QAAQ9I,GAAGqH,WAAWnG,EAAE,IAAII,KAAKE,EAAE8E,SAASC,YAAY,oDAAqD/E,GAAEsH,QAAQ9I,GAAGC,EAAEgI,eAAphB,QAAoiBhI,GAAGuB,GAAGK,EAAE,SAAS5B,GAAG,QAASY,KAAI,MAAOA,GAAE6D,UAAUD,YAAYpE,MAAMC,KAAKC,WAAW,MAAOyC,GAAEnC,EAAEZ,GAAGY,EAAEF,UAAUmJ,QAAQ,KAAKjJ,EAAEF,UAAUoJ,UAAU,YAAYlJ,EAAEF,UAAUqJ,iBAAiB1B,KAAK,QAAQzH,EAAEF,UAAUsE,WAAW,SAAShF,GAAG,MAAOK,MAAK6F,QAAQ,MAAMlG,EAAEA,KAAKK,KAAKiH,WAAWjH,KAAK0J,gBAAgBhK,EAAEoD,UAAU9C,KAAK0J,gBAAgB1J,KAAK6F,QAAQ6D,kBAAkBnJ,EAAEF,UAAU0F,OAAO,WAAW,MAAO/F,MAAK2J,4BAA4BpJ,EAAEF,UAAUuJ,SAAS,SAASlK,GAAG,MAAOsB,GAAEM,OAAOtB,KAAKiH,QAAQ,SAAStH,GAAG,MAAOA,GAAEkK,IAAIhE,QAAQiE,KAAKpK,KAAKa,EAAEF,UAAUkI,oBAAoB,SAAS5I,GAAG,GAAIY,GAAEE,EAAEG,EAAEZ,IAAK,KAAIO,EAAEb,EAAE,QAAQa,EAAE4F,SAAS,0BAA0BnG,KAAK4E,IAAImF,QAAQxJ,GAAGP,KAAKiH,QAAQvG,MAAMmJ,IAAIlK,EAAEqK,MAAMzJ,IAAIP,KAAKiK,qBAAqBtK,GAAGA,EAAE4D,GAAG,SAAS,WAAW,MAAO3C,GAAEqJ,qBAAqBtK,KAAKK,KAAK6F,QAAQqE,aAAalK,KAAKiH,QAAQ7E,OAAOpC,KAAK6F,QAAQqE,aAAazJ,EAAET,KAAKiH,QAAQkD,QAAQ1J,EAAEoJ,IAAIvE,SAAS7E,EAAEuJ,MAAM1E,QAAS,OAAO/E,IAAGA,EAAEF,UAAU4J,qBAAqB,SAASvK,GAAG,GAAIC,GAAEY,EAAEE,EAAEG,EAAEI,CAAE,IAAG,MAAMtB,EAAEmG,QAAQiE,GAAG,IAAI9I,EAAEhB,KAAKiH,QAAQ1G,EAAE,EAAEE,EAAEO,EAAEoB,OAAO3B,EAAEF,EAAEA,IAAI,GAAGZ,EAAEqB,EAAET,GAAGK,EAAEjB,EAAEkK,IAAI,MAAMjJ,EAAEiF,QAAQiE,IAAIlJ,EAAEiF,QAAQiE,KAAKpK,EAAEmG,QAAQiE,IAAIpK,IAAIkB,EAAE,CAAC,GAAGlB,EAAEmG,QAAQuE,UAAU,WAAO1K,GAAEwG,MAActF,GAAEsF,SAAS3F,EAAEF,UAAUgK,WAAW,SAAS3K,GAAG,GAAIC,GAAEY,EAAEE,EAAEO,EAAEO,EAAEvB,IAAK,OAAO,OAAMN,IAAIA,MAAMA,EAAEkG,UAAU5F,KAAKkB,EAAE,OAAOX,EAAE,OAAOE,EAAEZ,UAAUyK,OAAO,OAAOtJ,EAAEtB,EAAE6K,OAAOvJ,EAAEhB,KAAK6F,QAAQ0E,QAAQ9J,EAAE+J,QAAQ,QAAQjK,EAAEK,EAAEjB,EAAE,GAAIuB,GAAExB,GAAGC,EAAE4D,GAAG,OAAO,WAAW,MAAO7D,GAAEwH,UAAU,UAAU3F,EAAEqD,IAAI6F,IAAI,YAAY9K,EAAEuH,WAAW,SAASvH,EAAE4D,GAAG,mBAAmBvD,KAAK2J,yBAAyB3J,MAAML,GAAGY,EAAEF,UAAUsJ,yBAAyB,WAAW,GAAIjK,GAAEC,EAAEY,EAAEE,EAAEG,EAAEI,EAAEE,CAAE,KAAIT,GAAE,EAAGd,EAAE,KAAKD,GAAE,EAAGwB,EAAElB,KAAKiH,QAAQrG,EAAE,EAAEI,EAAEE,EAAEkB,OAAOpB,EAAEJ,EAAEA,IAAIL,EAAEW,EAAEN,GAAGL,EAAEyJ,MAAM/D,YAAY,kDAAkD1F,EAAEsJ,IAAInE,OAAOnF,EAAEsJ,IAAIlE,WAAWpF,EAAEyJ,MAAM7D,SAAS,mBAAmBzG,GAAE,EAAGC,EAAEY,EAAEE,IAAIA,GAAE,EAAGF,EAAEyJ,MAAM7D,SAAS,oBAAqB,OAAO,OAAMxG,GAAGA,EAAEqK,MAAM7D,SAAS,kBAAkBnG,KAAK4E,IAAI,IAAIlF,EAAE,SAAS,OAAO,SAAS,oBAAoBa,EAAEF,UAAUqK,QAAQ,WAAW,GAAIhL,GAAEC,EAAEY,EAAEE,EAAEG,CAAE,KAAIH,EAAET,KAAKiH,QAAQrG,KAAKjB,EAAE,EAAEY,EAAEE,EAAE2B,OAAO7B,EAAEZ,EAAEA,IAAID,EAAEe,EAAEd,GAAGiB,EAAEF,KAAKhB,EAAEmK,IAAI3D,OAAQ,OAAOtF,IAAGL,EAAEF,UAAUsK,KAAK,SAAShL,GAAG,GAAIY,EAAE,OAAOS,GAAEsF,SAAS3G,KAAKA,GAAG4G,QAAQ5G,IAAIA,EAAED,EAAEoD,QAAO,KAAM9C,KAAK0J,gBAAgB/J,GAAGY,EAAEP,KAAKqK,WAAW1K,GAAGY,EAAE8F,OAAO1G,GAAGY,GAAGA,GAAGA,GAAGZ,EAAE,SAASA,GAAG,QAASY,KAAI,MAAOA,GAAE6D,UAAUD,YAAYpE,MAAMC,KAAKC,WAAW,MAAOyC,GAAEnC,EAAEZ,GAAGY,EAAEF,UAAUuK,YAAYC,gBAAgB,KAAKC,eAAe,KAAKC,aAAa,kCAAkCC,yBAAwB,EAAGC,OAAOrC,MAAK,EAAGsC,OAAM,GAAIvD,OAAOjI,EAAEyL,MAAM5K,EAAEF,UAAU+K,iBAAiB,SAASzL,GAAG,GAAIY,GAAEE,EAAET,IAAK,IAAG,MAAML,IAAIA,MAAM,MAAMC,OAAOsD,SAAS,KAAK,iCAAkC,OAAOvD,GAAEqB,EAAE6B,SAASlD,GAAGmK,GAAG,kBAAkBiB,cAAa,EAAGD,eAAe,kCAAkCE,yBAAwB,IAAKzK,EAAE,SAASb,GAAG,GAAIa,EAAE,OAAOA,GAAES,EAAE8B,UAAUnD,EAAED,EAAEkG,WAAWnF,EAAE,MAAMF,EAAEb,IAAI,MAAMwD,SAASiI,MAAMjI,SAASiI,KAAKE,oBAAoBnI,SAASiI,KAAKjI,SAASiI,KAAKE,oBAAoB,MAAM1L,EAAEgI,QAAQhI,EAAEgI,SAAS3H,KAAK4K,WAAWjD,UAAUhI,EAAEgI,OAAOzE,SAASiI,MAAM5K,EAAE8K,kBAAkBnI,SAASiI,KAAKjI,SAASiI,KAAK5K,GAAG2C,SAASoI,KAAKtK,EAAEuK,KAAKrI,SAASoI,KAAK,WAAW,GAAI3L,GAAEc,EAAEG,CAAE,OAAOA,GAAEX,UAAU,GAAGN,EAAE,GAAGM,UAAUmC,OAAOiC,EAAEhC,KAAKpC,UAAU,MAAMQ,EAAEf,EAAEyL,KAAKzL,EAAEyL,KAAK5K,EAAEK,EAAEyB,KAAKtC,MAAMa,GAAGZ,MAAMa,OAAOwD,EAAEhC,KAAK1C,KAAKD,EAAEyL,KAAK1K,KAAKF,EAAEF,UAAUmL,oBAAoB,SAAS9L,GAAG,MAAOA,MAAI,GAAG,EAAGA,KAAI,GAAI,MAAMA,GAAE,EAAGA,GAAGa,EAAEF,UAAUoL,aAAa,SAAS/L,GAAG,GAAIC,GAAEY,EAAEE,EAAEG,EAAEI,EAAEE,EAAEK,CAAE,OAAM7B,IAAIA,MAAMsB,IAAK,KAAIJ,IAAKlB,GAAEe,EAAEf,EAAEkB,GAAGL,EAAEK,EAAEc,QAAQ,KAAKR,EAAEN,EAAE8K,UAAU,EAAEnL,GAAGZ,EAAEiB,EAAE8K,UAAUnL,EAAE,GAAG,OAAOgB,EAAEP,EAAEE,MAAMF,EAAEE,OAAOF,EAAEE,GAAGvB,GAAGc,CAAE,OAAOO,IAAGT,EAAEF,UAAUsL,mBAAmB,WAAW,GAAIjM,GAAEC,EAAEY,EAAEE,EAAEG,EAAEM,EAAEK,CAAE,KAAIhB,EAAE,GAAGN,UAAUmC,OAAOiC,EAAEhC,KAAKpC,UAAU,MAAMQ,EAAE,KAAKG,EAAE,KAAKlB,EAAE,KAAKwB,EAAE,EAAEK,EAAEhB,EAAE6B,OAAOb,EAAEL,EAAEA,IAAIvB,EAAEY,EAAEW,GAAG,YAAYvB,GAAG,YAAYA,GAAG,UAAUA,EAAEc,EAAEd,EAAE,OAAO,MAAMA,EAAEA,EAAEiM,WAAW,SAAS,OAAO,MAAMjM,EAAEA,EAAEkM,aAAa,QAAQjL,EAAEjB,EAAEqB,EAAEgC,SAASrD,KAAKD,EAAEC,EAAG,QAAOc,EAAEf,EAAEkB,IAAIL,EAAEF,UAAUyL,IAAI,WAAW,GAAInM,GAAEY,EAAEE,EAAEG,EAAEM,EAAEK,EAAEO,EAAEE,EAAEC,EAAEC,EAAEQ,EAAEqJ,EAAE/L,IAAK,IAAGuB,EAAEtB,UAAU,GAAGgC,EAAEhC,UAAU,GAAGN,EAAE,GAAGM,UAAUmC,OAAOiC,EAAEhC,KAAKpC,UAAU,MAAM,MAAMgC,IAAIA,MAAMV,EAAE7B,EAAEoD,QAAO,KAAM9C,KAAK0J,gBAAgB1J,KAAK4K,WAAW,MAAMrJ,EAAEA,MAAMhB,EAAEP,KAAKyL,aAAalK,EAAEmF,QAAQjG,EAAE,SAASf,EAAEC,GAAG,GAAIY,EAAE,OAAOA,GAAEgB,EAAE7B,EAAE,WAAWsB,EAAEwB,WAAWjC,GAAGA,EAAE8B,KAAK0J,EAAErM,EAAEC,GAAGY,GAAGuB,EAAE,OAAOY,EAAEnB,EAAEyK,iBAAiBtJ,EAAE1C,KAAKqK,WAAW9I,GAAG,MAAMA,EAAEuI,KAAKhI,EAAE+D,QAAQiE,GAAGvI,EAAEuI,IAAI,MAAMvI,EAAEsJ,iBAAiB/I,EAAEuE,OAAO3G,EAAEoD,UAAUvB,GAAGgF,QAAQ9F,EAAE,WAAW,MAAMuH,KAAK,UAAU9G,KAAKF,EAAEmB,MAAM,QAAQ,WAAW,SAASvB,GAAG,GAAIoB,EAAE,OAAOA,GAAEC,EAAErB,GAAGM,EAAEN,GAAG,WAAW,GAAIM,GAAEgB,EAAEQ,EAAEuJ,EAAEC,EAAEC,EAAEC,EAAEC,EAAEC,EAAEC,EAAEC,EAAEC,EAAEC,EAAEC,EAAEC,CAAE,OAAOT,GAAE,GAAGlM,UAAUmC,OAAOiC,EAAEhC,KAAKpC,UAAU,MAAMqM,EAAEP,EAAEJ,mBAAmB5L,MAAMgM,EAAEI,GAAGD,EAAEI,EAAE,GAAGpL,EAAEoL,EAAE,GAAGD,EAAEC,EAAE,GAAG,YAAY1L,GAAG,MAAMkB,EAAE+K,YAAYtL,EAAEyJ,2BAA0B,IAAKzJ,EAAEuJ,eAAe,MAAM,UAAUlK,IAAI,OAAO2L,EAAEhL,EAAEsL,cAActL,EAAEsL,WAAW,GAAGtL,EAAEsL,YAAY,GAAGnK,EAAEnB,EAAEuL,eAAeX,EAAE,GAAG,kBAAmBnK,GAAEA,EAAEjC,MAAM,KAAKoM,GAAG,OAAOC,EAAEL,EAAEP,oBAAoB9I,GAAG1B,EAAEsF,SAAS8F,KAAKA,GAAG7F,QAAQ6F,IAAI,UAAUxL,GAAG,KAAK,MAAMyL,EAAEA,EAAEU,OAAO,SAAS,UAAUb,EAAE,UAAUtL,GAAG,MAAMW,EAAEyL,oBAAoBR,EAAE,MAAMH,EAAEA,EAAEU,OAAO,OAAOzI,EAAEjC,KAAKd,EAAEyL,kBAAkBR,IAAI,OAAI1K,GAAEoE,QAAgBhE,GAAGqE,QAAQ9F,EAAEG,EAAEyL,GAAGrE,KAAKpH,EAAE8F,OAAO,OAAO+F,EAAElM,EAAEK,IAAI6L,KAAKzF,eAAe,YAAYpG,GAAGqL,EAAEvM,EAAEoD,UAAUvB,EAAEW,EAAEkK,GAAG,iBAAiB,OAAOM,EAAET,EAAEhB,OAAOyB,EAAExB,MAAM,SAASe,EAAEhB,MAAMC,QAAQ,UAAUtK,IAAI,MAAMyL,EAAEA,EAAEU,OAAO,SAAS,MAAM,OAAOJ,EAAEV,EAAEhB,OAAO0B,EAAEzB,MAAM,SAAS,MAAMe,EAAEhB,MAAM5B,QAAQ4C,EAAEhB,MAAM5B,MAAM4C,EAAEY,WAAW,EAAE,GAAG,KAAKZ,EAAE1G,YAAY,OAAOqH,EAAEX,EAAEgB,cAAchB,EAAEgB,WAAWhB,EAAE1G,WAAW0G,EAAE1G,UAAU0G,EAAEgB,WAAWhB,EAAEhB,MAAM5B,OAAO4C,EAAEiB,eAAc,EAAGjB,EAAEzE,SAASyD,OAAOnD,MAAM,YAAYiB,OAAO,gBAAgBH,KAAKqD,EAAEhB,MAAMrC,KAAKS,MAAM4C,EAAEhB,MAAM5B,MAAM1B,OAAO,WAAW,MAAOsE,GAAED,gBAAgBlK,EAAEiF,WAAW,WAAW,MAAOgF,GAAE,MAAMhM,MAAMgM,GAAGE,EAAEhK,GAAGpB,OAAOwD,EAAEhC,KAAK1C,MAAM,KAAKyG,QAAQuB,OAAO,WAAW,MAAO7F,GAAEsE,aAAa6F,EAAEiB,sBAAuBjB,GAAEzE,QAAQyD,YAAagB,GAAEzE,QAAQpB,aAAc7E,GAAE2L,eAAepL,EAAEuE,OAAO4F,GAAGG,GAAGH,EAAE1F,SAAS1G,UAAUmB,EAAE8B,UAAUiJ,EAAElG,SAASsH,SAASpB,KAAKjK,EAAEgE,QAAQhE,EAAEoE,YAASpE,GAAEoE,WAAmB3E,EAAEuL,eAAe,IAAI5K,IAAKhB,GAAEN,EAAEM,EAAEgB,GAAGF,EAAEC,EAAEC,GAAGD,EAAEC,GAAGtB,CAAE,OAAOkB,GAAE4G,gBAAgBnH,EAAEoG,OAAO5H,MAAMwB,GAAGU,GAAGpB,OAAOwD,EAAEhC,KAAK1C,KAAK4B,EAAEuL,gBAAgBhL,EAAE4G,gBAAgB0E,KAAKlM,EAAEmM,QAAQnM,EAAEoM,OAAOxL,GAAGvB,EAAEF,UAAU,MAAME,EAAEF,UAAUyL,IAAIvL,EAAEF,UAAU8K,KAAK,WAAW,GAAIxL,GAAEY,CAAE,OAAOA,GAAEN,UAAU,GAAGN,EAAE,GAAGM,UAAUmC,OAAOiC,EAAEhC,KAAKpC,UAAU,MAAMM,EAAEoH,OAAOjI,EAAEyL,KAAKnL,KAAK8L,IAAI/L,MAAMC,MAAMO,GAAGM,OAAOwD,EAAEhC,KAAK1C,MAAMY,EAAEF,UAAUkN,cAAc,SAAS7N,EAAEC,GAAG,MAAOA,GAAEqB,EAAE8B,UAAUnD,GAAGgI,OAAOjI,EAAEoN,gBAAe,IAAK9M,KAAK8L,IAAInM,IAAIY,EAAEF,UAAUiN,MAAM,SAAS5N,GAAG,MAAO,OAAMA,IAAIA,MAAM,gBAAiBA,KAAIA,GAAG6G,QAAQ7G,IAAIA,EAAEsI,KAAK,QAAQhI,KAAK2K,KAAKjL,IAAIa,EAAEF,UAAUmN,KAAK,SAAS9N,GAAG,MAAO,OAAMA,IAAIA,MAAM,gBAAiBA,KAAIA,GAAG6G,QAAQ7G,IAAIA,EAAEsI,KAAK,OAAOhI,KAAK2K,KAAKjL,IAAIa,EAAEF,UAAUgN,QAAQ,SAAS3N,GAAG,MAAO,OAAMA,IAAIA,MAAM,gBAAiBA,KAAIA,GAAG6G,QAAQ7G,IAAIA,EAAEsI,KAAK,UAAUhI,KAAK2K,KAAKjL,IAAIa,GAAGgB,GAAG7B,EAAE+N,GAAG7H,UAAU,WAAW,GAAIrF,GAAEE,EAAEG,EAAEM,EAAEY,EAAEE,EAAEC,EAAEC,CAAE,OAAOtB,GAAEX,UAAU,GAAGQ,EAAE,GAAGR,UAAUmC,OAAOiC,EAAEhC,KAAKpC,UAAU,MAAM,MAAMW,IAAIA,MAAML,EAAEP,KAAK,MAAMY,GAAGI,EAAEsF,SAAS1F,IAAIsB,EAAE3B,EAAEmN,KAAK,cAAc9M,GAAGb,MAAMmC,EAAEzB,IAAIqB,EAAElB,EAAE,MAAML,EAAEmN,KAAK,eAAenM,EAAE,OAAOS,EAAE,OAAOC,EAAEpC,UAAUyK,OAAOxI,EAAEyI,QAAQtI,EAAEpC,UAAU,QAAQmC,EAAErC,EAAEY,EAAEmN,KAAK,YAAYxM,EAAE,GAAIK,GAAE7B,EAAEoD,QAAQ0B,GAAGjE,GAAGuB,KAAKZ,EAAE6E,UAAUxF,EAAEmN,KAAK,eAAe9N,OAAOC,UAAUC,MAAM,SAASH,GAAG,GAAIY,GAAEE,EAAEG,EAAEI,EAAEE,EAAEK,EAAEO,EAAEE,EAAEC,EAAEC,EAAEQ,CAAE,IAAGnB,GAAGoM,aAAa,yDAAyDpD,MAAM,SAASL,YAAY,EAAE0D,iBAAiB,SAASjO,EAAED,EAAEoD,OAAOvB,EAAE7B,EAAEmO,mBAAmBhO,UAAUgG,QAAQlG,GAAG,MAAMA,EAAE4K,QAAQ5K,EAAEgO,cAAc,oBAAoBhO,EAAE4K,OAAOzI,EAAEnC,EAAEwN,UAAUtN,UAAUsN,SAAS,MAAMxN,EAAEwN,SAAS,CAAC,IAAIlL,EAAEtC,EAAEiO,gBAAgBnN,EAAE,KAAKG,EAAE,KAAKsB,EAAE,EAAEQ,EAAET,EAAEG,OAAOM,EAAER,EAAEA,IAAI,GAAGF,EAAEC,EAAEC,GAAGzB,EAAEf,EAAEsC,GAAGvB,EAAE2B,OAAO,CAACpB,EAAEgB,CAAE,OAAMF,EAAEpC,EAAEoC,EAAEgM,WAAWC,GAAGrO,EAAEsB,MAAMc,EAAE8C,IAAIoJ,SAASvN,EAAEsJ,QAAQjI,EAAE8C,OAAOrE,EAAEb,EAAE,QAAQe,EAAEsJ,QAAQxJ,GAAGuB,EAAEvB,EAAEqF,UAAUjG,GAAGmC,EAAEgM,UAAU9M,EAAEnB,UAAUsN,SAASrL,GAAG,MAAO,OAAMA,EAAEmM,eAAenM,EAAE8C,IAAIqB,YAAYnE,EAAEmM,eAAenM,EAAE8C,IAAIuB,SAASjF,EAAE,GAAGY,EAAE2H,UAAU,IAAI9J,EAAEgO,cAAc7L,EAAEmM,cAAc/M,EAAEY,GAAGpC,EAAEoD,OAAOjD,WAAW2K,QAAQ5J,EAAEf,UAAUF,EAAE2K,OAAO,OAAOrI,EAAEpC,UAAUyK,QAAQrI,OAAOvC,EAAEwO,gBAAgBtO,OAAOC,UAAUA,WAAWwC,KAAKrC,QAAQP,OAAO,8CAA8C,WAAW0O,MAAMC,YAAY","file":"gallery/messenger/1.4.1/messenger.js","sourcesContent":["define(\"gumutianqi/messenger/1.4.1/messenger\",[\"$\",\"./messenger.css\"],function(a){a(\"$\"),a(\"./messenger.css\"),function(){var a,b=window.Messenger;a=window.Messenger=function(){return a._call.apply(this,arguments)},window.Messenger.noConflict=function(){return window.Messenger=b,a}}(),window.Messenger._=function(){if(window._)return window._;var a=Array.prototype,b=Object.prototype,c=Function.prototype,d=(a.push,a.slice),e=(a.concat,b.toString);b.hasOwnProperty;var f=a.forEach,g=(a.map,a.reduce,a.reduceRight,a.filter),h=(a.every,a.some,a.indexOf,a.lastIndexOf,Array.isArray,Object.keys),i=c.bind,j={},k={},l=j.each=j.forEach=function(a,b,c){if(null!=a)if(f&&a.forEach===f)a.forEach(b,c);else if(a.length===+a.length){for(var d=0,e=a.length;e>d;d++)if(b.call(c,a[d],d,a)===k)return}else for(var g in a)if(j.has(a,g)&&b.call(c,a[g],g,a)===k)return};j.result=function(a,b){if(null==a)return null;var c=a[b];return j.isFunction(c)?c.call(a):c},j.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}};var m=0;return j.uniqueId=function(a){var b=++m+\"\";return a?a+b:b},j.filter=j.select=function(a,b,c){var d=[];return null==a?d:g&&a.filter===g?a.filter(b,c):(l(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)}),d)},l([\"Arguments\",\"Function\",\"String\",\"Number\",\"Date\",\"RegExp\"],function(a){j[\"is\"+a]=function(b){return e.call(b)==\"[object \"+a+\"]\"}}),j.defaults=function(a){return l(d.call(arguments,1),function(b){if(b)for(var c in b)null==a[c]&&(a[c]=b[c])}),a},j.extend=function(a){return l(d.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},j.keys=h||function(a){if(a!==Object(a))throw new TypeError(\"Invalid object\");var b=[];for(var c in a)j.has(a,c)&&(b[b.length]=c);return b},j.bind=function(a,b){if(a.bind===i&&i)return i.apply(a,d.call(arguments,1));var c=d.call(arguments,2);return function(){return a.apply(b,c.concat(d.call(arguments)))}},j.isObject=function(a){return a===Object(a)},j}(),window.Messenger.Events=function(){if(window.Backbone&&Backbone.Events)return Backbone.Events;var a=function(){var a=/\\s+/,b=function(b,c,d,e){if(!d)return!0;if(\"object\"==typeof d)for(var f in d)b[c].apply(b,[f,d[f]].concat(e));else{if(!a.test(d))return!0;for(var g=d.split(a),h=0,i=g.length;i>h;h++)b[c].apply(b,[g[h]].concat(e))}},c=function(a,b){var c,d=-1,e=a.length;switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,b[0]);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,b[0],b[1]);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,b[0],b[1],b[2]);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b)}},d={on:function(a,c,d){if(!b(this,\"on\",a,[c,d])||!c)return this;this._events||(this._events={});var e=this._events[a]||(this._events[a]=[]);return e.push({callback:c,context:d,ctx:d||this}),this},once:function(a,c,d){if(!b(this,\"once\",a,[c,d])||!c)return this;var e=this,f=_.once(function(){e.off(a,f),c.apply(this,arguments)});return f._callback=c,this.on(a,f,d),this},off:function(a,c,d){var e,f,g,h,i,j,k,l;if(!this._events||!b(this,\"off\",a,[c,d]))return this;if(!a&&!c&&!d)return this._events={},this;for(h=a?[a]:_.keys(this._events),i=0,j=h.length;j>i;i++)if(a=h[i],e=this._events[a]){if(g=[],c||d)for(k=0,l=e.length;l>k;k++)f=e[k],(c&&c!==f.callback&&c!==f.callback._callback||d&&d!==f.context)&&g.push(f);this._events[a]=g}return this},trigger:function(a){if(!this._events)return this;var d=Array.prototype.slice.call(arguments,1);if(!b(this,\"trigger\",a,d))return this;var e=this._events[a],f=this._events.all;return e&&c(e,d),f&&c(f,arguments),this},listenTo:function(a,b,c){var d=this._listeners||(this._listeners={}),e=a._listenerId||(a._listenerId=_.uniqueId(\"l\"));return d[e]=a,a.on(b,\"object\"==typeof b?this:c,this),this},stopListening:function(a,b,c){var d=this._listeners;if(d){if(a)a.off(b,\"object\"==typeof b?this:c,this),b||c||delete d[a._listenerId];else{\"object\"==typeof b&&(c=this);for(var e in d)d[e].off(b,c,this);this._listeners={}}return this}}};return d.bind=d.on,d.unbind=d.off,d};return a()}(),function(){var a,b,c,d,e,f,g,h,i,j,k,l={}.hasOwnProperty,m=function(a,b){function c(){this.constructor=a}for(var d in b)l.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},n=[].slice,o=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};a=jQuery,f=null!=(i=window._)?i:window.Messenger._,d=null!=(j=\"undefined\"!=typeof Backbone&&null!==Backbone?Backbone.Events:void 0)?j:window.Messenger.Events,c=function(){function b(b){a.extend(this,d),f.isObject(b)&&(b.el&&this.setElement(b.el),this.model=b.model),this.initialize.apply(this,arguments)}return b.prototype.setElement=function(b){return this.$el=a(b),this.el=this.$el[0]},b.prototype.delegateEvents=function(a){var b,c,d,e,g,h,i;if(a||(a=f.result(this,\"events\"))){this.undelegateEvents(),b=/^(\\S+)\\s*(.*)$/,i=[];for(d in a){if(g=a[d],f.isFunction(g)||(g=this[a[d]]),!g)throw new Error('Method \"'+a[d]+'\" does not exist');e=d.match(b),c=e[1],h=e[2],g=f.bind(g,this),c+=\".delegateEvents\"+this.cid,\"\"===h?i.push(this.jqon(c,g)):i.push(this.jqon(c,h,g))}return i}},b.prototype.jqon=function(a,b,c){var d;return null!=this.$el.on?(d=this.$el).on.apply(d,arguments):(null==c&&(c=b,b=void 0),null!=b?this.$el.delegate(b,a,c):this.$el.bind(a,c))},b.prototype.jqoff=function(a){var b;return null!=this.$el.off?(b=this.$el).off.apply(b,arguments):(this.$el.undelegate(),this.$el.unbind(a))},b.prototype.undelegateEvents=function(){return this.jqoff(\".delegateEvents\"+this.cid)},b.prototype.remove=function(){return this.undelegateEvents(),this.$el.remove()},b}(),g=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}return m(c,b),c.prototype.defaults={hideAfter:10,scroll:!0,closeButtonText:\"&times;\"},c.prototype.initialize=function(b){return null==b&&(b={}),this.shown=!1,this.rendered=!1,this.messenger=b.messenger,this.options=a.extend({},this.options,b,this.defaults)},c.prototype.show=function(){var a;return this.rendered||this.render(),this.$message.removeClass(\"messenger-hidden\"),a=this.shown,this.shown=!0,a?void 0:this.trigger(\"show\")},c.prototype.hide=function(){var a;if(this.rendered)return this.$message.addClass(\"messenger-hidden\"),a=this.shown,this.shown=!1,a?this.trigger(\"hide\"):void 0},c.prototype.cancel=function(){return this.hide()},c.prototype.update=function(b){var c,d=this;return f.isString(b)&&(b={message:b}),a.extend(this.options,b),this.lastUpdate=new Date,this.rendered=!1,this.events=null!=(c=this.options.events)?c:{},this.render(),this.actionsToEvents(),this.delegateEvents(),this.checkClickable(),this.options.hideAfter?(this.$message.addClass(\"messenger-will-hide-after\"),null!=this._hideTimeout&&clearTimeout(this._hideTimeout),this._hideTimeout=setTimeout(function(){return d.hide()},1e3*this.options.hideAfter)):this.$message.removeClass(\"messenger-will-hide-after\"),this.options.hideOnNavigate?(this.$message.addClass(\"messenger-will-hide-on-navigate\"),null!=(\"undefined\"!=typeof Backbone&&null!==Backbone?Backbone.history:void 0)&&Backbone.history.on(\"route\",function(){return d.hide()})):this.$message.removeClass(\"messenger-will-hide-on-navigate\"),this.trigger(\"update\",this)},c.prototype.scrollTo=function(){return this.options.scroll?a.scrollTo(this.$el,{duration:400,offset:{left:0,top:-20}}):void 0},c.prototype.timeSinceUpdate=function(){return this.lastUpdate?new Date-this.lastUpdate:null},c.prototype.actionsToEvents=function(){var a,b,c,d,e=this;c=this.options.actions,d=[];for(b in c)a=c[b],d.push(this.events['click [data-action=\"'+b+'\"] a']=function(a){return function(c){return c.preventDefault(),c.stopPropagation(),e.trigger(\"action:\"+b,a,c),a.action.call(e,c,e)}}(a));return d},c.prototype.checkClickable=function(){var a,b,c,d;c=this.events,d=[];for(b in c)a=c[b],\"click\"===b?d.push(this.$message.addClass(\"messenger-clickable\")):d.push(void 0);return d},c.prototype.undelegateEvents=function(){var a;return c.__super__.undelegateEvents.apply(this,arguments),null!=(a=this.$message)?a.removeClass(\"messenger-clickable\"):void 0},c.prototype.parseActions=function(){var b,c,d,e,f,g;c=[],f=this.options.actions;for(e in f)b=f[e],d=a.extend({},b),d.name=e,null==(g=d.label)&&(d.label=e),c.push(d);return c},c.prototype.template=function(b){var c,d,e,f,g,h,i,j,k,l,m=this;for(g=a(\"<div class='messenger-message message alert \"+b.type+\" message-\"+b.type+\" alert-\"+b.type+\"'>\"),b.showCloseButton&&(e=a('<button type=\"button\" class=\"messenger-close\" data-dismiss=\"alert\">'),e.html(b.closeButtonText),e.click(function(){return m.cancel(),!0}),g.append(e)),h=a('<div class=\"messenger-message-inner\">'+b.message+\"</div>\"),g.append(h),b.actions.length&&(d=a('<div class=\"messenger-actions\">')),l=b.actions,j=0,k=l.length;k>j;j++)i=l[j],c=a(\"<span>\"),c.attr(\"data-action\",\"\"+i.name),f=a(\"<a>\"),f.html(i.label),c.append(a('<span class=\"messenger-phrase\">')),c.append(f),d.append(c);return g.append(d),g},c.prototype.render=function(){var b;if(!this.rendered)return this._hasSlot||(this.setElement(this.messenger._reserveMessageSlot(this)),this._hasSlot=!0),b=a.extend({},this.options,{actions:this.parseActions()}),this.$message=a(this.template(b)),this.$el.html(this.$message),this.shown=!0,this.rendered=!0,this.trigger(\"render\")},c}(c),e=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return m(b,a),b.prototype.initialize=function(){return b.__super__.initialize.apply(this,arguments),this._timers={}},b.prototype.cancel=function(){return this.clearTimers(),this.hide(),null!=this._actionInstance&&null!=this._actionInstance.abort?this._actionInstance.abort():void 0},b.prototype.clearTimers=function(){var a,b,c,d;c=this._timers;for(a in c)b=c[a],clearTimeout(b);return this._timers={},null!=(d=this.$message)?d.removeClass(\"messenger-retry-soon messenger-retry-later\"):void 0},b.prototype.render=function(){var a,c,d,e;b.__super__.render.apply(this,arguments),this.clearTimers(),d=this.options.actions,e=[];for(c in d)a=d[c],a.auto?e.push(this.startCountdown(c,a)):e.push(void 0);return e},b.prototype.renderPhrase=function(a,b){var c;return c=a.phrase.replace(\"TIME\",this.formatTime(b))},b.prototype.formatTime=function(a){var b;return b=function(a,b){return a=Math.floor(a),1!==a&&(b+=\"s\"),\"in \"+a+\" \"+b},0===Math.floor(a)?\"now...\":60>a?b(a,\"second\"):(a/=60,60>a?b(a,\"minute\"):(a/=60,b(a,\"hour\")))},b.prototype.startCountdown=function(a,b){var c,d,e,f,g=this;if(null==this._timers[a])return c=this.$message.find(\"[data-action='\"+a+\"'] .messenger-phrase\"),d=null!=(f=b.delay)?f:3,10>=d?(this.$message.removeClass(\"messenger-retry-later\"),this.$message.addClass(\"messenger-retry-soon\")):(this.$message.removeClass(\"messenger-retry-soon\"),this.$message.addClass(\"messenger-retry-later\")),e=function(){var f;return c.text(g.renderPhrase(b,d)),d>0?(f=Math.min(d,1),d-=f,g._timers[a]=setTimeout(e,1e3*f)):(g.$message.removeClass(\"messenger-retry-soon messenger-retry-later\"),delete g._timers[a],b.action())},e()},b}(g),h=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}return m(c,b),c.prototype.tagName=\"ul\",c.prototype.className=\"messenger\",c.prototype.messageDefaults={type:\"info\"},c.prototype.initialize=function(b){return this.options=null!=b?b:{},this.history=[],this.messageDefaults=a.extend({},this.messageDefaults,this.options.messageDefaults)},c.prototype.render=function(){return this.updateMessageSlotClasses()},c.prototype.findById=function(a){return f.filter(this.history,function(b){return b.msg.options.id===a})},c.prototype._reserveMessageSlot=function(b){var c,d,e=this;for(c=a(\"<li>\"),c.addClass(\"messenger-message-slot\"),this.$el.prepend(c),this.history.push({msg:b,$slot:c}),this._enforceIdConstraint(b),b.on(\"update\",function(){return e._enforceIdConstraint(b)});this.options.maxMessages&&this.history.length>this.options.maxMessages;)d=this.history.shift(),d.msg.remove(),d.$slot.remove();return c},c.prototype._enforceIdConstraint=function(a){var b,c,d,e,f;if(null!=a.options.id)for(f=this.history,c=0,d=f.length;d>c;c++)if(b=f[c],e=b.msg,null!=e.options.id&&e.options.id===a.options.id&&a!==e){if(a.options.singleton)return a.hide(),void 0;e.hide()}},c.prototype.newMessage=function(a){var b,c,d,f,h=this;return null==a&&(a={}),a.messenger=this,g=null!=(c=null!=(d=Messenger.themes[null!=(f=a.theme)?f:this.options.theme])?d.Message:void 0)?c:e,b=new g(a),b.on(\"show\",function(){return a.scrollTo&&\"fixed\"!==h.$el.css(\"position\")?b.scrollTo():void 0}),b.on(\"hide show render\",this.updateMessageSlotClasses,this),b},c.prototype.updateMessageSlotClasses=function(){var a,b,c,d,e,f,g;for(d=!0,b=null,a=!1,g=this.history,e=0,f=g.length;f>e;e++)c=g[e],c.$slot.removeClass(\"messenger-first messenger-last messenger-shown\"),c.msg.shown&&c.msg.rendered&&(c.$slot.addClass(\"messenger-shown\"),a=!0,b=c,d&&(d=!1,c.$slot.addClass(\"messenger-first\")));return null!=b&&b.$slot.addClass(\"messenger-last\"),this.$el[\"\"+(a?\"remove\":\"add\")+\"Class\"](\"messenger-empty\")},c.prototype.hideAll=function(){var a,b,c,d,e;for(d=this.history,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(a.msg.hide());return e},c.prototype.post=function(b){var c;return f.isString(b)&&(b={message:b}),b=a.extend(!0,{},this.messageDefaults,b),c=this.newMessage(b),c.update(b),c},c}(c),b=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}return m(c,b),c.prototype.doDefaults={progressMessage:null,successMessage:null,errorMessage:\"Error connecting to the server.\",showSuccessWithoutError:!0,retry:{auto:!0,allow:!0},action:a.ajax},c.prototype.hookBackboneAjax=function(b){var c,d=this;if(null==b&&(b={}),null==window.Backbone)throw\"Expected Backbone to be defined\";return b=f.defaults(b,{id:\"BACKBONE_ACTION\",errorMessage:!1,successMessage:\"Request completed successfully.\",showSuccessWithoutError:!1}),c=function(a){var c;return c=f.extend({},b,a.messenger),d[\"do\"](c,a)},null!=Backbone.ajax?(Backbone.ajax._withoutMessenger&&(Backbone.ajax=Backbone.ajax._withoutMessenger),(null==b.action||b.action===this.doDefaults.action)&&(b.action=Backbone.ajax),c._withoutMessenger=Backbone.ajax,Backbone.ajax=c):Backbone.sync=f.wrap(Backbone.sync,function(){var b,d,e;return e=arguments[0],b=2<=arguments.length?n.call(arguments,1):[],d=a.ajax,a.ajax=c,e.call.apply(e,[this].concat(n.call(b))),a.ajax=d})},c.prototype._getHandlerResponse=function(a){return a===!1?!1:a===!0||null==a?!0:a},c.prototype._parseEvents=function(a){var b,c,d,e,f,g,h;null==a&&(a={}),f={};for(e in a)d=a[e],c=e.indexOf(\" \"),g=e.substring(0,c),b=e.substring(c+1),null==(h=f[g])&&(f[g]={}),f[g][b]=d;return f},c.prototype._normalizeResponse=function(){var a,b,c,d,e,g,h;for(c=1<=arguments.length?n.call(arguments,0):[],d=null,e=null,a=null,g=0,h=c.length;h>g;g++)b=c[g],\"success\"===b||\"timeout\"===b||\"abort\"===b?d=b:null!=(null!=b?b.readyState:void 0)&&null!=(null!=b?b.responseText:void 0)?e=b:f.isObject(b)&&(a=b);return[d,a,e]},c.prototype.run=function(){var b,c,d,e,g,h,i,j,k,l,m,p=this;if(h=arguments[0],k=arguments[1],b=3<=arguments.length?n.call(arguments,2):[],null==k&&(k={}),h=a.extend(!0,{},this.messageDefaults,this.doDefaults,null!=h?h:{}),c=this._parseEvents(h.events),d=function(a,b){var c;return c=h[a+\"Message\"],f.isFunction(c)?c.call(p,a,b):c},i=null!=(m=h.messageInstance)?m:this.newMessage(h),null!=h.id&&(i.options.id=h.id),null!=h.progressMessage&&i.update(a.extend({},h,{message:d(\"progress\",null),type:\"info\"})),g={},f.each([\"error\",\"success\"],function(e){var j;return j=k[e],g[e]=function(){var g,l,m,q,r,s,t,u,v,w,x,y,z,A,B;return s=1<=arguments.length?n.call(arguments,0):[],v=p._normalizeResponse.apply(p,s),r=v[0],g=v[1],u=v[2],\"success\"===e&&null==i.errorCount&&h.showSuccessWithoutError===!1&&(h.successMessage=null),\"error\"===e&&(null==(w=h.errorCount)&&(h.errorCount=0),h.errorCount+=1),m=h.returnsPromise?s[0]:\"function\"==typeof j?j.apply(null,s):void 0,t=p._getHandlerResponse(m),f.isString(t)&&(t={message:t}),\"error\"!==e||0!==(null!=u?u.status:void 0)&&\"abort\"!==r?\"error\"===e&&null!=h.ignoredErrorCodes&&(x=null!=u?u.status:void 0,o.call(h.ignoredErrorCodes,x)>=0)?(i.hide(),void 0):(l={message:d(e,u),type:e,events:null!=(y=c[e])?y:{},hideOnNavigate:\"success\"===e},q=a.extend({},h,l,t),\"number\"==typeof(null!=(z=q.retry)?z.allow:void 0)&&q.retry.allow--,\"error\"===e&&(null!=u?u.status:void 0)>=500&&(null!=(A=q.retry)?A.allow:void 0)?(null==q.retry.delay&&(q.retry.delay=q.errorCount<4?10:300),q.hideAfter&&(null==(B=q._hideAfter)&&(q._hideAfter=q.hideAfter),q.hideAfter=q._hideAfter+q.retry.delay),q._retryActions=!0,q.actions={retry:{label:\"retry now\",phrase:\"Retrying TIME\",auto:q.retry.auto,delay:q.retry.delay,action:function(){return q.messageInstance=i,setTimeout(function(){return p[\"do\"].apply(p,[q,k].concat(n.call(b)))},0)}},cancel:{action:function(){return i.cancel()}}}):q._retryActions&&(delete q.actions.retry,delete q.actions.cancel,delete h._retryActions),i.update(q),t&&q.message?(Messenger(f.extend({},p.options,{instance:p})),i.show()):i.hide()):(i.hide(),void 0)}}),!h.returnsPromise)for(l in g)e=g[l],j=k[l],k[l]=e;return i._actionInstance=h.action.apply(h,[k].concat(n.call(b))),h.returnsPromise&&i._actionInstance.then(g.success,g.error),i},c.prototype[\"do\"]=c.prototype.run,c.prototype.ajax=function(){var b,c;return c=arguments[0],b=2<=arguments.length?n.call(arguments,1):[],c.action=a.ajax,this.run.apply(this,[c].concat(n.call(b)))},c.prototype.expectPromise=function(a,b){return b=f.extend({},b,{action:a,returnsPromise:!0}),this.run(b)},c.prototype.error=function(a){return null==a&&(a={}),\"string\"==typeof a&&(a={message:a}),a.type=\"error\",this.post(a)},c.prototype.info=function(a){return null==a&&(a={}),\"string\"==typeof a&&(a={message:a}),a.type=\"info\",this.post(a)},c.prototype.success=function(a){return null==a&&(a={}),\"string\"==typeof a&&(a={message:a}),a.type=\"success\",this.post(a)},c}(h),a.fn.messenger=function(){var c,d,e,g,i,j,k,l;return e=arguments[0],d=2<=arguments.length?n.call(arguments,1):[],null==e&&(e={}),c=this,null!=e&&f.isString(e)?(l=c.data(\"messenger\"))[e].apply(l,d):(i=e,null==c.data(\"messenger\")&&(h=null!=(j=null!=(k=Messenger.themes[i.theme])?k.Messenger:void 0)?j:b,c.data(\"messenger\",g=new h(a.extend({el:c},i))),g.render()),c.data(\"messenger\"))},window.Messenger._call=function(b){var c,d,e,f,g,h,i,j,k,l,m;if(h={extraClasses:\"messenger-fixed messenger-on-bottom messenger-on-right\",theme:\"future\",maxMessages:9,parentLocations:[\"body\"]},b=a.extend(h,a._messengerDefaults,Messenger.options,b),null!=b.theme&&(b.extraClasses+=\" messenger-theme-\"+b.theme),i=b.instance||Messenger.instance,null==b.instance){for(k=b.parentLocations,d=null,e=null,l=0,m=k.length;m>l;l++)if(j=k[l],d=a(j),d.length){f=j;break}i?a(i._location).is(a(f))||(i.$el.detach(),d.prepend(i.$el)):(c=a(\"<ul>\"),d.prepend(c),i=c.messenger(b),i._location=f,Messenger.instance=i)}return null!=i._addedClasses&&i.$el.removeClass(i._addedClasses),i.$el.addClass(g=\"\"+i.className+\" \"+b.extraClasses),i._addedClasses=g,i},a.extend(Messenger,{Message:e,Messenger:b,themes:null!=(k=Messenger.themes)?k:{}}),a.globalMessenger=window.Messenger=Messenger}.call(this)}),define(\"gumutianqi/messenger/1.4.1/messenger.css\",[],function(){seajs.importStyle(\"ul.messenger{margin:0;padding:0}ul.messenger>li{list-style:none;margin:0;padding:0}ul.messenger.messenger-empty{display:none}ul.messenger .messenger-message{overflow:hidden;*zoom:1}ul.messenger .messenger-message.messenger-hidden{display:none}ul.messenger .messenger-message .messenger-phrase,ul.messenger .messenger-message .messenger-actions a{padding-right:5px}ul.messenger .messenger-message .messenger-actions{float:right}ul.messenger .messenger-message .messenger-actions a{cursor:pointer;text-decoration:underline}ul.messenger .messenger-message ul,ul.messenger .messenger-message ol{margin:10px 18px 0}ul.messenger.messenger-fixed{position:fixed;z-index:10000}ul.messenger.messenger-fixed .messenger-message{min-width:0;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}ul.messenger.messenger-fixed .message .messenger-actions{float:left}ul.messenger.messenger-fixed.messenger-on-top{top:20px}ul.messenger.messenger-fixed.messenger-on-bottom{bottom:20px}ul.messenger.messenger-fixed.messenger-on-top,ul.messenger.messenger-fixed.messenger-on-bottom{left:50%;width:800px;margin-left:-400px}@media (max-width:960px){ul.messenger.messenger-fixed.messenger-on-top,ul.messenger.messenger-fixed.messenger-on-bottom{left:10%;width:80%;margin-left:0}}ul.messenger.messenger-fixed.messenger-on-top.messenger-on-right,ul.messenger.messenger-fixed.messenger-on-bottom.messenger-on-right{right:20px;left:auto}ul.messenger.messenger-fixed.messenger-on-top.messenger-on-left,ul.messenger.messenger-fixed.messenger-on-bottom.messenger-on-left{left:20px;margin-left:0}ul.messenger.messenger-fixed.messenger-on-right,ul.messenger.messenger-fixed.messenger-on-left{width:350px}ul.messenger.messenger-fixed.messenger-on-right .messenger-actions,ul.messenger.messenger-fixed.messenger-on-left .messenger-actions{float:left}ul.messenger .messenger-spinner{display:none}\")});\n"],"sourceRoot":"/source/"}